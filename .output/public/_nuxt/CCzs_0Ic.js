import{_ as h}from"./Bh2d8xFW.js";import{_ as C,r as i,v as b,c as o,a as s,z as v,A as m,F as B,p as N,n as g,b as w,w as k,B as V,e as T,o as a,C as $,d as x}from"./D_hGt-Op.js";import"./2rai63wT.js";const z={class:"category-articles-page"},A={class:"container"},D={key:0},E={class:"articles-section"},j={class:"section-header"},q={class:"sort-options"},F={key:0,class:"articles-grid"},L={key:1,class:"empty-state"},M={key:1,class:"loading-state"},G={key:2,class:"error-state"},H={__name:"detail",setup(I){const p=V(),n=i(!0),d=i(null),r=i([]);i(1);const u=i("newest");async function f(){n.value=!0,d.value=null;try{const e=p.query.id;console.log(p.query);const t=await $fetch(`/api/tags/findTag?id=${e}`,{method:"GET"});t.data?r.value=t.data||[]:d.value=new Error("未找到该分类")}catch(e){console.error("获取分类文章失败:",e),d.value=e}finally{n.value=!1}}b(()=>{f()});function _(e){u.value=e,e==="newest"?r.value.sort((t,l)=>new Date(l.createTime)-new Date(t.createTime)):e==="popular"&&r.value.sort((t,l)=>l.readingNum-t.readingNum)}return(e,t)=>{const l=h,y=T;return a(),o("div",z,[s("div",A,[n.value?v("",!0):(a(),o("div",D,[s("div",E,[s("div",j,[t[2]||(t[2]=s("h2",{class:"section-title"},"文章列表",-1)),s("div",q,[s("button",{class:m(["sort-btn",{active:u.value==="newest"}]),onClick:t[0]||(t[0]=c=>_("newest"))}," 最新 ",2),s("button",{class:m(["sort-btn",{active:u.value==="popular"}]),onClick:t[1]||(t[1]=c=>_("popular"))}," 热门 ",2)])]),r.value.length>0?(a(),o("div",F,[(a(!0),o(B,null,N(r.value,c=>(a(),$(l,{key:c.id,article:c,class:"article-card-wrapper"},null,8,["article"]))),128))])):(a(),o("div",L,[t[4]||(t[4]=g('<div class="empty-icon" data-v-52461745><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-52461745><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-52461745></path><polyline points="14 2 14 8 20 8" data-v-52461745></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-52461745></line><line x1="16" y1="17" x2="8" y2="17" data-v-52461745></line><polyline points="10 9 9 9 8 9" data-v-52461745></polyline></svg></div><p class="empty-text" data-v-52461745>该分类下暂无文章</p>',2)),w(y,{to:"/",class:"back-btn"},{default:k(()=>t[3]||(t[3]=[x("返回首页")])),_:1})]))])])),n.value?(a(),o("div",M,t[5]||(t[5]=[s("div",{class:"spinner"},null,-1),s("p",null,"加载中...",-1)]))):v("",!0),d.value&&!n.value?(a(),o("div",G,[t[7]||(t[7]=g('<div class="error-icon" data-v-52461745><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-52461745><circle cx="12" cy="12" r="10" data-v-52461745></circle><line x1="12" y1="8" x2="12" y2="12" data-v-52461745></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-52461745></line></svg></div><h2 class="error-title" data-v-52461745>出错了</h2><p class="error-message" data-v-52461745>无法加载该分类的文章，请稍后再试</p>',3)),w(y,{to:"/categories",class:"back-btn"},{default:k(()=>t[6]||(t[6]=[x("返回分类页")])),_:1})])):v("",!0)])])}}},K=C(H,[["__scopeId","data-v-52461745"]]);export{K as default};
