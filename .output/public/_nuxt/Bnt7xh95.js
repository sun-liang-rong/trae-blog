import{_ as S,x as _,v as N,y as B,r as h,D as E,c as u,a as o,z as L,F as T,p as A,o as p,q as v,t as g,b as I,d as M,w as R,e as V}from"./D_hGt-Op.js";import{S as X}from"./6qCihK2t.js";const Y={class:"categories-page"},j={class:"container"},q={key:0,class:"categories-grid"},P={class:"category-icon"},z={class:"card-body"},D={class:"category-name"},F={class:"article-count"},G={class:"count-badge"},U={class:"category-desc"},W={__name:"index",async setup(H){let d,y;_.registerPlugin(X);const w=s=>{const a=document.querySelectorAll(".parallax-layer"),i=s.clientX/window.innerWidth,e=s.clientY/window.innerHeight;a.forEach((r,c)=>{const t=(c+1)*.1,n=i*t*50,m=e*t*50;r.style.transform=`translate(${n}px, ${m}px)`}),document.querySelectorAll(".card-content").forEach(r=>{const c=r.getBoundingClientRect(),t=s.clientX-c.left,n=s.clientY-c.top;r.style.setProperty("--mouse-x",`${t}px`),r.style.setProperty("--mouse-y",`${n}px`)})},x=s=>{if(!s)return{start:"rgba(67, 97, 238, 0.8)",end:"rgba(58, 12, 163, 0.6)"};const a=t=>{t=t.replace("#",""),t.length===3&&(t=t.split("").map(C=>C+C).join(""));const n=parseInt(t.substring(0,2),16),m=parseInt(t.substring(2,4),16),$=parseInt(t.substring(4,6),16);return{r:n,g:m,b:$}},i=(t,n)=>({r:Math.min(255,Math.max(0,Math.round(t.r*n))),g:Math.min(255,Math.max(0,Math.round(t.g*n))),b:Math.min(255,Math.max(0,Math.round(t.b*n)))}),e=(t,n)=>`rgba(${t.r}, ${t.g}, ${t.b}, ${n})`,l=a(s),r=i(l,1.2),c=i(l,.7);return{start:e(r,.8),end:e(c,.6)}};N(()=>{window.addEventListener("mousemove",w),_.from(".page-title",{y:-50,opacity:0,duration:.8,ease:"power3.out"}),_.from(".category-card",{y:30,opacity:0,duration:.6,stagger:.1,ease:"power2.out"})}),B(()=>{window.removeEventListener("mousemove",w)});const f=h(!0),k=h(null),b=h([]);try{const s=([d,y]=E(()=>$fetch("/api/tags/blogTagAndarticle",{method:"GET"})),d=await d,y(),d);b.value=s.data,console.log(articlesList.value,s,"------data")}catch(s){k.value=s}finally{f.value=!1}return(s,a)=>{const i=V;return p(),u("div",Y,[o("div",j,[a[2]||(a[2]=o("h1",{class:"page-title"},"文章分类",-1)),f.value?L("",!0):(p(),u("div",q,[(p(!0),u(T,null,A(b.value,(e,l)=>(p(),u("div",{key:e.id,class:"category-card",style:v({"--index":l})},[o("div",{class:"card-content",style:v({"--accent-color":e.tagColor,"--gradient-start":x(e.tagColor).start,"--gradient-end":x(e.tagColor).end})},[o("div",P,[o("div",{class:"icon-placeholder",style:v({backgroundColor:e.tagColor})},g(e.tagName.toUpperCase()),5)]),o("div",z,[o("h2",D,g(e.tagName),1),o("p",F,[o("span",G,g(e.articles.length),1),a[0]||(a[0]=M(" 篇文章 "))]),o("p",U,g(e.description),1),I(i,{to:`/categories/detail?id=${e.id}`,class:"view-more"},{default:R(()=>a[1]||(a[1]=[M(" 浏览文章 "),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o("polyline",{points:"12 5 19 12 12 19"})],-1)])),_:2},1032,["to"])])],4)],4))),128))]))])])}}},O=S(W,[["__scopeId","data-v-b5979fdb"]]);export{O as default};
